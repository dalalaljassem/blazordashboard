@page "/properties"
@using MudBlazor

<MudItem xs="12" md="12" lg="12">
    <MudPaper Class="p-4 rounded-lg shadow-sm bg-white">
        <div class="flex justify-between items-center pb-4">
            <MudText Typo="Typo.h6" Class="font-semibold text-primary">Newly Added Properties</MudText>
            @* <MudButton Variant="Variant.Outlined" EndIcon="@Icons.Material.Filled.KeyboardArrowRight"
            Class="text-primary border-primary" OnClick="@(() => Nav.NavigateTo("/properties"))">
            See All
            </MudButton> *@
        </div>

        <MudTable Items="properties" Dense="true" Hover="true" Elevation="0" Class="text-sm text-gray rounded-lg">
            <HeaderContent>
                <MudTh>#</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Address</MudTh>
                <MudTh>Agent</MudTh>
                <MudTh>Price</MudTh>
                <MudTh>Status</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="#">@context.Id</MudTd>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Address">@context.Address</MudTd>
                <MudTd DataLabel="Agent">@context.Agent</MudTd>
                <MudTd DataLabel="Price">@context.Price KWD</MudTd>
                <MudTd DataLabel="Status">
                    <MudChip T="string" Color="@GetStatusColor(context.Status)">
                        @context.Status
                    </MudChip>
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudPaper>
</MudItem>

@code {
    public class Property
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Address { get; set; }
        public string Agent { get; set; }
        public decimal Price { get; set; }
        public string Status { get; set; } = "Rent"; // or "Sell"
    }

    private List<Property> properties = new()
{
new Property { Id = 1, Name = "The Cool House", Address = "Shuwaikh", Agent = "Goose House", Price = 2311.55M, Status =
"Sell" },
new Property { Id = 2, Name = "DJ's Dungeon", Address = "Khaldiya", Agent = "MCR", Price = 3522.42M, Status = "Rent" }
};

    private Color GetStatusColor(string status)
    {
        return status switch
        {
            "Sell" => Color.Success,
            "Rent" => Color.Info,
            _ => Color.Default
        };
    }
}